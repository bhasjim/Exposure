$(document).ready(function(){initMap()}),$("#cs-loader").on("click",function(){document.body.style.backgroundColor="white",document.getElementById("circle").classList.add("shrink");var e=document.getElementById("cs-loader");e.parentNode.removeChild(e)}),$("#tagsearch").on("itemAdded",function(e){apiParams.tags.push(e.item),deleteMarkers(),markerClusterer&&markerClusterer.clearMarkers(),map&&getPhotoData(map.getBounds())}),$("#tagsearch").on("itemRemoved",function(e){var a=apiParams.tags.indexOf(e.item);a>-1&&apiParams.tags.splice(a,1),deleteMarkers(),markerClusterer&&markerClusterer.clearMarkers(),map&&getPhotoData(map.getBounds())}),$(".dropdown-menu li a").click(function(){$(this).parents(".dropdown").find(".btn").html($(this).text()+' <span class="caret"></span>'),$(this).parents(".dropdown").find(".btn").val($(this).data("value")),answer=$(this).data("value"),which_date!=answer&&(deleteMarkers(),markerClusterer&&markerClusterer.clearMarkers(),map&&getPhotoData(map.getBounds()))}),$(document).on("click",".grid-pic",function(){$("#main-pic-header").empty(),$("#main-pic").empty(),$("#main-pic-header").append($(this).data("title")),source=$(this)[0].src,curr_ind=$(this)[0].dataset.ind,console.log(curr_ind),source=source.substring(0,source.length-6),$("#main-pic").append("<img data-ind='"+curr_ind+"' src='"+source+"_z.jpg' />"),$(".pic-rotate").show(),$("#photoModal").scrollTop(0)}),$(".pic-rotate").on("click",function(){$("#main-pic").is(":empty")||(curr_ind=$("#main-pic").children().data("ind"),$(this).hasClass("glyphicon-chevron-left")?0==curr_ind?changePic(nearbyPics.length-1):changePic(curr_ind-1):$(this).hasClass("glyphicon-chevron-right")&&(curr_ind==nearbyPics.length-1?changePic(0):changePic(curr_ind+1)),$("#photoModal").scrollTop(0))}),$(document).on("keydown",function(e){if(!$("#main-pic").is(":empty")&&$("#photoModal").hasClass("in"))switch(curr_ind=$("#main-pic").children().data("ind"),console.log("HEYYY"+curr_ind),e.which){case 37:0==curr_ind?changePic(nearbyPics.length-1):changePic(curr_ind-1);break;case 39:curr_ind==nearbyPics.length-1?changePic(0):changePic(curr_ind+1)}});
function initMap(){var e=new google.maps.MarkerImage("./../images/bluedot_retina.png",null,null,new google.maps.Point(0,0),new google.maps.Size(17,17));navigator.geolocation?navigator.geolocation.getCurrentPosition(function(t){var a={lat:t.coords.latitude,lng:t.coords.longitude};map=new google.maps.Map(document.getElementById("map"),{center:a,zoom:12,styles:googleMapOptions}),errorWindow=new google.maps.InfoWindow;new google.maps.Marker({flat:!0,icon:e,map:map,optimized:!1,position:a,title:"I might be here",visible:!0});map.addListener("idle",function(e){deleteMarkers(),markerClusterer&&markerClusterer.clearMarkers(),getPhotoData(map.getBounds())}),infoWindow=new google.maps.InfoWindow({disableAutoPan:!0});var o={gridSize:20,styles:clusterStyles,minimumClusterSize:1,maxZoom:20};markerClusterer=new MarkerClusterer(map,markers,o);var r=document.getElementById("pac-input"),n=new google.maps.places.SearchBox(r);map.addListener("bounds_changed",function(){n.setBounds(map.getBounds())}),google.maps.event.addListener(markerClusterer,"clusterclick",function(e){var t=e.getCenter(),a=t.lat(),o=t.lng();$("#photoModal").modal("show"),$("#main-pic-header").empty(),$("#main-pic").empty(),$("#gallery-pic").empty(),$(".pic-rotate").hide();var r="https://maps.googleapis.com/maps/api/geocode/json?latlng="+a.toString()+","+o.toString();$.getJSON(r,params,function(e){if(e){var t=e.results[2].formatted_address;$("#main-pic-header").append(t)}else console.log("geocoding failed")}),nearbyPictures(a,o)}),n.addListener("places_changed",function(){var e=n.getPlaces();if(0!=e.length){var t=new google.maps.LatLngBounds;e.forEach(function(e){e.geometry?e.geometry.viewport?t.union(e.geometry.viewport):t.extend(e.geometry.location):console.log("Returned place contains no geometry")}),map.fitBounds(t)}})},function(){handleLocationError(!0,errorWindow,map.getCenter())}):handleLocationError(!1,errorWindow,map.getCenter())}function handleLocationError(e,t,a){t.setPosition(a),t.setContent(e?"Error: The Geolocation service failed.":"Error: Your browser doesn't support geolocation."),t.open(map)}function nearbyPictures(e,t){rad=1e-5*(40-map.zoom);var a=t-rad+","+(e-rad)+","+(t+rad)+","+(e+5e-4),o="https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key="+apiParams.key+"&bbox="+a+"&tags="+apiParams.tags+"&min_upload_date"+getTS()+"&sort=interestingness-desc&has_geo=1&extras=geo&format=json&jsoncallback=?";$.getJSON(o,params,function(e){if(e.photos.photo.length>0){var t=0;nearbyPics=[],nearbyTitles=[],$.each(e.photos.photo,function(e,a){src="http://farm"+a.farm+".static.flickr.com/"+a.server+"/"+a.id+"_"+a.secret,imgHTML='<img class="grid-pic" data-ind=\''+t+"' data-title='"+a.title+"' src=http://farm"+a.farm+".static.flickr.com/"+a.server+"/"+a.id+"_"+a.secret+"_q.jpg alt="+a.title+"/>",$("#gallery-pic").append(imgHTML),nearbyPics.push(src),nearbyTitles.push(a.title),t++})}})}function changePic(e){$("#main-pic-header").empty(),$("#main-pic").empty(),$("#main-pic-header").append(nearbyTitles[e]),$("#main-pic").append("<img data-ind='"+e+"' src='"+nearbyPics[e]+"_z.jpg' />")}function handleLocationError(e,t,a){t.setPosition(a),t.setContent(e?"Error: The Geolocation service failed.":"Error: Your browser doesn't support geolocation."),t.open(map)}var imageUrl,image,infoWindow,markerClusterer=null,chicago={lat:41.85,lng:-87.65},map,errorWindow,nearbyPics=[],nearbyTitles=[],which_date="ever",answer="ever",apiParams={key:"65030e1f766ba9dccb6deb836165ca4a",max_upload_date:"1493856000",bbox:[-117.285576,32.805377,-117.185326,32.896597],tags:[]},markers=[],params={format:"json",apiKey:"4cd3d05ce08d3d4fa414116b3e3c247e"},getTS=function(){var e=Math.round((new Date).getTime()/1e3);return console.log("TS"+answer),which_date=answer,"year"===answer?(e-31536e3).toString():"week"===answer?(e-604800).toString():"day"===answer?(e-86400).toString():"0"},getPhotoData=function(e){console.log(e.getSouthWest().toString());e.toJSON();var t=e.toString().replace(/\(/g,"");t=e.getSouthWest().lng().toString()+","+e.getSouthWest().lat().toString()+","+e.getNorthEast().lng().toString()+","+e.getNorthEast().lat().toString();var a="https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key="+apiParams.key+"&bbox="+t+"&tags="+apiParams.tags+"&min_upload_date="+getTS()+"&sort=interestingness-desc&has_geo=1&extras=geo&format=json&jsoncallback=?";$.getJSON(a,params,function(e){addMarkers(e.photos)})},addMarkers=function(e){var t,a,o;$.each(e.photo,function(r,n){var i=new google.maps.MarkerImage("./../images/m1.png",null,null,new google.maps.Point(0,0),new google.maps.Size(20,20));o="<img data-title='"+n.title+"' src=http://farm"+n.farm+".static.flickr.com/"+n.server+"/"+n.id+"_"+n.secret+"_z.jpg alt="+n.title+"/>",t=new google.maps.LatLng(n.latitude,n.longitude),(a=new google.maps.Marker({icon:i,position:t,map:map})).addListener("click",function(){$("#photoModal").modal("show")}),markers.push(a),setInfoWindowContent(a,o,e,n)}),markerClusterer.addMarkers(markers)},setInfoWindowContent=function(e,t,a,o){google.maps.event.addListener(e,"click",function(){$("#main-pic-header").empty(),$("#main-pic").empty(),$("#gallery-pic").empty(),$("#main-pic-header").append(o.title),$("#main-pic").append(t),console.log(o),nearbyPictures(e.internalPosition.lat(),e.internalPosition.lng())})},deleteMarkers=function(){for(i=0;i<markers.length;i+=1)markers[i].setMap(null);markers=[]};
function MarkerClusterer(t,e,r){this.extend(MarkerClusterer,google.maps.OverlayView),this.map_=t,this.markers_=[],this.clusters_=[],this.sizes=[53,56,66,78,90],this.styles_=[],this.ready_=!1;var s=r||{};this.gridSize_=s.gridSize||60,this.minClusterSize_=s.minimumClusterSize||2,this.maxZoom_=s.maxZoom||null,this.styles_=s.styles||[],this.imagePath_=s.imagePath||this.MARKER_CLUSTER_IMAGE_PATH_,this.imageExtension_=s.imageExtension||this.MARKER_CLUSTER_IMAGE_EXTENSION_,this.zoomOnClick_=!1,void 0!=s.zoomOnClick&&(this.zoomOnClick_=s.zoomOnClick),this.averageCenter_=!1,void 0!=s.averageCenter&&(this.averageCenter_=s.averageCenter),this.setupStyles_(),this.setMap(t),this.prevZoom_=this.map_.getZoom();var o=this;google.maps.event.addListener(this.map_,"zoom_changed",function(){var t=o.map_.getZoom(),e=o.map_.minZoom||0,r=Math.min(o.map_.maxZoom||100,o.map_.mapTypes[o.map_.getMapTypeId()].maxZoom);t=Math.min(Math.max(t,e),r),o.prevZoom_!=t&&(o.prevZoom_=t,o.resetViewport())}),google.maps.event.addListener(this.map_,"idle",function(){o.redraw()}),e&&(e.length||Object.keys(e).length)&&this.addMarkers(e,!1)}function Cluster(t){this.markerClusterer_=t,this.map_=t.getMap(),this.gridSize_=t.getGridSize(),this.minClusterSize_=t.getMinClusterSize(),this.averageCenter_=t.isAverageCenter(),this.center_=null,this.markers_=[],this.bounds_=null,this.clusterIcon_=new ClusterIcon(this,t.getStyles(),t.getGridSize())}function ClusterIcon(t,e,r){t.getMarkerClusterer().extend(ClusterIcon,google.maps.OverlayView),this.styles_=e,this.padding_=r||0,this.cluster_=t,this.center_=null,this.map_=t.getMap(),this.div_=null,this.sums_=null,this.visible_=!1,this.setMap(this.map_)}MarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_PATH_="../images/m",MarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_EXTENSION_="png",MarkerClusterer.prototype.extend=function(t,e){return function(t){for(var e in t.prototype)this.prototype[e]=t.prototype[e];return this}.apply(t,[e])},MarkerClusterer.prototype.onAdd=function(){this.setReady_(!0)},MarkerClusterer.prototype.draw=function(){},MarkerClusterer.prototype.setupStyles_=function(){if(!this.styles_.length)for(var t,e=0;t=this.sizes[e];e++)this.styles_.push({url:this.imagePath_+(e+1)+"."+this.imageExtension_,height:t,width:t})},MarkerClusterer.prototype.fitMapToMarkers=function(){for(var t,e=this.getMarkers(),r=new google.maps.LatLngBounds,s=0;t=e[s];s++)r.extend(t.getPosition());this.map_.fitBounds(r)},MarkerClusterer.prototype.setStyles=function(t){this.styles_=t},MarkerClusterer.prototype.getStyles=function(){return this.styles_},MarkerClusterer.prototype.isZoomOnClick=function(){return this.zoomOnClick_},MarkerClusterer.prototype.isAverageCenter=function(){return this.averageCenter_},MarkerClusterer.prototype.getMarkers=function(){return this.markers_},MarkerClusterer.prototype.getTotalMarkers=function(){return this.markers_.length},MarkerClusterer.prototype.setMaxZoom=function(t){this.maxZoom_=t},MarkerClusterer.prototype.getMaxZoom=function(){return this.maxZoom_},MarkerClusterer.prototype.calculator_=function(t,e){var r=0,s=t.length,o=s/2;for(0==o&&(r=1);0!==o;)o=parseInt(o/2,10),r++;return r=Math.min(r,e),{text:s,index:r}},MarkerClusterer.prototype.setCalculator=function(t){this.calculator_=t},MarkerClusterer.prototype.getCalculator=function(){return this.calculator_},MarkerClusterer.prototype.addMarkers=function(t,e){if(t.length)for(var r=0;s=t[r];r++)this.pushMarkerTo_(s);else if(Object.keys(t).length)for(var s in t)this.pushMarkerTo_(t[s]);e||this.redraw()},MarkerClusterer.prototype.pushMarkerTo_=function(t){if(t.isAdded=!1,t.draggable){var e=this;google.maps.event.addListener(t,"dragend",function(){t.isAdded=!1,e.repaint()})}this.markers_.push(t)},MarkerClusterer.prototype.addMarker=function(t,e){this.pushMarkerTo_(t),e||this.redraw()},MarkerClusterer.prototype.removeMarker_=function(t){var e=-1;if(this.markers_.indexOf)e=this.markers_.indexOf(t);else for(var r,s=0;r=this.markers_[s];s++)if(r==t){e=s;break}return-1!=e&&(t.setMap(null),this.markers_.splice(e,1),!0)},MarkerClusterer.prototype.removeMarker=function(t,e){var r=this.removeMarker_(t);return!(e||!r)&&(this.resetViewport(),this.redraw(),!0)},MarkerClusterer.prototype.removeMarkers=function(t,e){for(var r,s=t===this.getMarkers()?t.slice():t,o=!1,i=0;r=s[i];i++){var a=this.removeMarker_(r);o=o||a}if(!e&&o)return this.resetViewport(),this.redraw(),!0},MarkerClusterer.prototype.setReady_=function(t){this.ready_||(this.ready_=t,this.createClusters_())},MarkerClusterer.prototype.getTotalClusters=function(){return this.clusters_.length},MarkerClusterer.prototype.getMap=function(){return this.map_},MarkerClusterer.prototype.setMap=function(t){this.map_=t},MarkerClusterer.prototype.getGridSize=function(){return this.gridSize_},MarkerClusterer.prototype.setGridSize=function(t){this.gridSize_=t},MarkerClusterer.prototype.getMinClusterSize=function(){return this.minClusterSize_},MarkerClusterer.prototype.setMinClusterSize=function(t){this.minClusterSize_=t},MarkerClusterer.prototype.getExtendedBounds=function(t){var e=this.getProjection(),r=new google.maps.LatLng(t.getNorthEast().lat(),t.getNorthEast().lng()),s=new google.maps.LatLng(t.getSouthWest().lat(),t.getSouthWest().lng()),o=e.fromLatLngToDivPixel(r);o.x+=this.gridSize_,o.y-=this.gridSize_;var i=e.fromLatLngToDivPixel(s);i.x-=this.gridSize_,i.y+=this.gridSize_;var a=e.fromDivPixelToLatLng(o),n=e.fromDivPixelToLatLng(i);return t.extend(a),t.extend(n),t},MarkerClusterer.prototype.isMarkerInBounds_=function(t,e){return e.contains(t.getPosition())},MarkerClusterer.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers_=[]},MarkerClusterer.prototype.resetViewport=function(t){for(var e,r=0;e=this.clusters_[r];r++)e.remove();for(var s,r=0;s=this.markers_[r];r++)s.isAdded=!1,t&&s.setMap(null);this.clusters_=[]},MarkerClusterer.prototype.repaint=function(){var t=this.clusters_.slice();this.clusters_.length=0,this.resetViewport(),this.redraw(),window.setTimeout(function(){for(var e,r=0;e=t[r];r++)e.remove()},0)},MarkerClusterer.prototype.redraw=function(){this.createClusters_()},MarkerClusterer.prototype.distanceBetweenPoints_=function(t,e){if(!t||!e)return 0;var r=(e.lat()-t.lat())*Math.PI/180,s=(e.lng()-t.lng())*Math.PI/180,o=Math.sin(r/2)*Math.sin(r/2)+Math.cos(t.lat()*Math.PI/180)*Math.cos(e.lat()*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},MarkerClusterer.prototype.addToClosestCluster_=function(t){for(var e,r=4e4,s=null,o=(t.getPosition(),0);e=this.clusters_[o];o++){var i=e.getCenter();if(i){var a=this.distanceBetweenPoints_(i,t.getPosition());a<r&&(r=a,s=e)}}s&&s.isMarkerInClusterBounds(t)?s.addMarker(t):((e=new Cluster(this)).addMarker(t),this.clusters_.push(e))},MarkerClusterer.prototype.createClusters_=function(){if(this.ready_)for(var t,e=new google.maps.LatLngBounds(this.map_.getBounds().getSouthWest(),this.map_.getBounds().getNorthEast()),r=this.getExtendedBounds(e),s=0;t=this.markers_[s];s++)!t.isAdded&&this.isMarkerInBounds_(t,r)&&this.addToClosestCluster_(t)},Cluster.prototype.isMarkerAlreadyAdded=function(t){if(this.markers_.indexOf)return-1!=this.markers_.indexOf(t);for(var e,r=0;e=this.markers_[r];r++)if(e==t)return!0;return!1},Cluster.prototype.addMarker=function(t){if(this.isMarkerAlreadyAdded(t))return!1;if(this.center_){if(this.averageCenter_){var e=this.markers_.length+1,r=(this.center_.lat()*(e-1)+t.getPosition().lat())/e,s=(this.center_.lng()*(e-1)+t.getPosition().lng())/e;this.center_=new google.maps.LatLng(r,s),this.calculateBounds_()}}else this.center_=t.getPosition(),this.calculateBounds_();t.isAdded=!0,this.markers_.push(t);var o=this.markers_.length;if(o<this.minClusterSize_&&t.getMap()!=this.map_&&t.setMap(this.map_),o==this.minClusterSize_)for(var i=0;i<o;i++)this.markers_[i].setMap(null);return o>=this.minClusterSize_&&t.setMap(null),this.updateIcon(),!0},Cluster.prototype.getMarkerClusterer=function(){return this.markerClusterer_},Cluster.prototype.getBounds=function(){for(var t,e=new google.maps.LatLngBounds(this.center_,this.center_),r=this.getMarkers(),s=0;t=r[s];s++)e.extend(t.getPosition());return e},Cluster.prototype.remove=function(){this.clusterIcon_.remove(),this.markers_.length=0,delete this.markers_},Cluster.prototype.getSize=function(){return this.markers_.length},Cluster.prototype.getMarkers=function(){return this.markers_},Cluster.prototype.getCenter=function(){return this.center_},Cluster.prototype.calculateBounds_=function(){var t=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(t)},Cluster.prototype.isMarkerInClusterBounds=function(t){return this.bounds_.contains(t.getPosition())},Cluster.prototype.getMap=function(){return this.map_},Cluster.prototype.updateIcon=function(){var t=this.map_.getZoom(),e=this.markerClusterer_.getMaxZoom();if(e&&t>e)for(var r,s=0;r=this.markers_[s];s++)r.setMap(this.map_);else if(this.markers_.length<this.minClusterSize_)this.clusterIcon_.hide();else{var o=this.markerClusterer_.getStyles().length,i=this.markerClusterer_.getCalculator()(this.markers_,o);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.setSums(i),this.clusterIcon_.show()}},ClusterIcon.prototype.triggerClusterClick=function(){var t=this.cluster_.getMarkerClusterer();google.maps.event.trigger(t,"clusterclick",this.cluster_),t.isZoomOnClick()&&this.map_.fitBounds(this.cluster_.getBounds())},ClusterIcon.prototype.onAdd=function(){if(this.div_=document.createElement("DIV"),this.visible_){var t=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(t),this.div_.innerHTML=this.sums_.text}this.getPanes().overlayMouseTarget.appendChild(this.div_);var e=this;google.maps.event.addDomListener(this.div_,"click",function(){e.triggerClusterClick()})},ClusterIcon.prototype.getPosFromLatLng_=function(t){var e=this.getProjection().fromLatLngToDivPixel(t);return e.x-=parseInt(this.width_/2,10),e.y-=parseInt(this.height_/2,10),e},ClusterIcon.prototype.draw=function(){if(this.visible_){var t=this.getPosFromLatLng_(this.center_);this.div_.style.top=t.y+"px",this.div_.style.left=t.x+"px"}},ClusterIcon.prototype.hide=function(){this.div_&&(this.div_.style.display="none"),this.visible_=!1},ClusterIcon.prototype.show=function(){if(this.div_){var t=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(t),this.div_.style.display=""}this.visible_=!0},ClusterIcon.prototype.remove=function(){this.setMap(null)},ClusterIcon.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),this.div_.parentNode.removeChild(this.div_),this.div_=null)},ClusterIcon.prototype.setSums=function(t){this.sums_=t,this.text_=t.text,this.index_=t.index,this.div_&&(this.div_.innerHTML=t.text),this.useStyle()},ClusterIcon.prototype.useStyle=function(){var t=Math.max(0,this.sums_.index-1);t=Math.min(this.styles_.length-1,t);var e=this.styles_[t];this.url_=e.url,this.height_=e.height,this.width_=e.width,this.textColor_=e.textColor,this.anchor_=e.anchor,this.textSize_=e.textSize,this.backgroundPosition_=e.backgroundPosition},ClusterIcon.prototype.setCenter=function(t){this.center_=t},ClusterIcon.prototype.createCss=function(t){var e=[];e.push("background-image:url("+this.url_+");");var r=this.backgroundPosition_?this.backgroundPosition_:"0 0";e.push("background-position:"+r+";"),"object"==typeof this.anchor_?("number"==typeof this.anchor_[0]&&this.anchor_[0]>0&&this.anchor_[0]<this.height_?e.push("height:"+(this.height_-this.anchor_[0])+"px; padding-top:"+this.anchor_[0]+"px;"):e.push("height:"+this.height_+"px; line-height:"+this.height_+"px;"),"number"==typeof this.anchor_[1]&&this.anchor_[1]>0&&this.anchor_[1]<this.width_?e.push("width:"+(this.width_-this.anchor_[1])+"px; padding-left:"+this.anchor_[1]+"px;"):e.push("width:"+this.width_+"px; text-align:center;")):e.push("height:"+this.height_+"px; line-height:"+this.height_+"px; width:"+this.width_+"px; text-align:center;");var s=this.textColor_?this.textColor_:"black",o=this.textSize_?this.textSize_:11;return e.push("cursor:pointer; top:"+t.y+"px; left:"+t.x+"px; color:"+s+"; position:absolute; font-size:"+o+"px; font-family:Arial,sans-serif; font-weight:bold"),e.join("")},window.MarkerClusterer=MarkerClusterer,MarkerClusterer.prototype.addMarker=MarkerClusterer.prototype.addMarker,MarkerClusterer.prototype.addMarkers=MarkerClusterer.prototype.addMarkers,MarkerClusterer.prototype.clearMarkers=MarkerClusterer.prototype.clearMarkers,MarkerClusterer.prototype.fitMapToMarkers=MarkerClusterer.prototype.fitMapToMarkers,MarkerClusterer.prototype.getCalculator=MarkerClusterer.prototype.getCalculator,MarkerClusterer.prototype.getGridSize=MarkerClusterer.prototype.getGridSize,MarkerClusterer.prototype.getExtendedBounds=MarkerClusterer.prototype.getExtendedBounds,MarkerClusterer.prototype.getMap=MarkerClusterer.prototype.getMap,MarkerClusterer.prototype.getMarkers=MarkerClusterer.prototype.getMarkers,MarkerClusterer.prototype.getMaxZoom=MarkerClusterer.prototype.getMaxZoom,MarkerClusterer.prototype.getStyles=MarkerClusterer.prototype.getStyles,MarkerClusterer.prototype.getTotalClusters=MarkerClusterer.prototype.getTotalClusters,MarkerClusterer.prototype.getTotalMarkers=MarkerClusterer.prototype.getTotalMarkers,MarkerClusterer.prototype.redraw=MarkerClusterer.prototype.redraw,MarkerClusterer.prototype.removeMarker=MarkerClusterer.prototype.removeMarker,MarkerClusterer.prototype.removeMarkers=MarkerClusterer.prototype.removeMarkers,MarkerClusterer.prototype.resetViewport=MarkerClusterer.prototype.resetViewport,MarkerClusterer.prototype.repaint=MarkerClusterer.prototype.repaint,MarkerClusterer.prototype.setCalculator=MarkerClusterer.prototype.setCalculator,MarkerClusterer.prototype.setGridSize=MarkerClusterer.prototype.setGridSize,MarkerClusterer.prototype.setMaxZoom=MarkerClusterer.prototype.setMaxZoom,MarkerClusterer.prototype.onAdd=MarkerClusterer.prototype.onAdd,MarkerClusterer.prototype.draw=MarkerClusterer.prototype.draw,Cluster.prototype.getCenter=Cluster.prototype.getCenter,Cluster.prototype.getSize=Cluster.prototype.getSize,Cluster.prototype.getMarkers=Cluster.prototype.getMarkers,ClusterIcon.prototype.onAdd=ClusterIcon.prototype.onAdd,ClusterIcon.prototype.draw=ClusterIcon.prototype.draw,ClusterIcon.prototype.onRemove=ClusterIcon.prototype.onRemove,Object.keys=Object.keys||function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e};
!function(t){"use strict";t("a.page-scroll").bind("click",function(a){var o=t(this);t("html, body").stop().animate({scrollTop:t(o.attr("href")).offset().top-50},1250,"easeInOutExpo"),a.preventDefault()}),t("body").scrollspy({target:".navbar-fixed-top",offset:51}),t(".navbar-collapse ul li a").click(function(){t(".navbar-toggle:visible").click()}),t("#mainNav").affix({offset:{top:100}})}(jQuery);
var clusterStyles=[{textColor:"white",textSize:1,url:"./../images/m1.png",height:29,width:30},{textColor:"white",textSize:1,url:"./../images/m2.png",height:42,width:43},{textColor:"white",textSize:1,url:"./../images/m3.png",height:57,width:56},{textColor:"white",textSize:1,url:"./../images/m4.png",height:69,width:68},{textColor:"white",textSize:1,url:"./../images/m5.png",height:80,width:79}],googleMapOptions=[{featureType:"all",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry",stylers:[{weight:"0.5"},{visibility:"on"}]},{featureType:"administrative",elementType:"labels",stylers:[{visibility:"simplified"}]},{featureType:"administrative",elementType:"labels.text",stylers:[{lightness:"-50"},{saturation:"-50"}]},{featureType:"administrative.neighborhood",elementType:"labels.text",stylers:[{hue:"#009aff"},{saturation:"25"},{lightness:"0"},{visibility:"simplified"},{gamma:"1"}]},{featureType:"landscape",elementType:"geometry",stylers:[{saturation:"0"},{lightness:"100"},{gamma:"2.31"},{visibility:"on"}]},{featureType:"landscape",elementType:"labels",stylers:[{visibility:"simplified"},{lightness:"20"},{gamma:"1"}]},{featureType:"landscape",elementType:"labels.text.fill",stylers:[{saturation:"-100"},{lightness:"-100"}]},{featureType:"landscape",elementType:"labels.text.stroke",stylers:[{visibility:"off"}]},{featureType:"landscape.man_made",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{lightness:"0"},{saturation:"45"},{gamma:"4.24"},{visibility:"simplified"},{hue:"#00ff90"}]},{featureType:"poi.park",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry",stylers:[{saturation:"-100"},{color:"#f5f5f5"}]},{featureType:"road",elementType:"labels.text",stylers:[{visibility:"simplified"},{color:"#666666"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"labels.icon",stylers:[{saturation:"-25"}]},{featureType:"transit.line",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"transit.station.airport",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{lightness:"50"},{gamma:".75"},{saturation:"100"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"simplified"}]},{featureType:"water",elementType:"labels.icon",stylers:[{visibility:"off"}]}];